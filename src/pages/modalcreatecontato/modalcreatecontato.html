<ion-header>

  <ion-navbar>
    <ion-buttons left>
      <button ion-button (click)="dismiss()">
        <span ion-text color="primary" showWhen="ios">Cancel</span>
        <ion-icon name="md-close" showWhen="android,windows"></ion-icon>
      </button>
    </ion-buttons>
    <ion-title *ngIf="contatoIdToUpdate!=0">
      Atualizar Contato {{contatoIdToUpdate}}
    </ion-title>
    <ion-title *ngIf="contatoIdToUpdate==0">
      <h3> Crear Novo Contato </h3>
    </ion-title>
  </ion-navbar>
</ion-header>


<ion-content>
  <form [formGroup]="contatoForm" (ngSubmit)="onContatoFormSubmit()">
    <ion-item>
      <ion-label>Nome:</ion-label>
      <ion-input type="text" formControlName="Nome"></ion-input>
      <ion-label *ngIf="contatoForm.get('Nome').invalid && processValidation" [ngClass]="'error'"> Nome é requerido. </ion-label>
    </ion-item>
    <ion-item>
      <ion-label>Empresa</ion-label>
      <ion-input type="text" formControlName="Empresa"></ion-input>
      <ion-label *ngIf="contatoForm.get('Empresa').invalid && processValidation" [ngClass]="'error'"> Empresa é requerida. </ion-label>
    </ion-item>
    <ion-item>
      <ion-label>Telefone</ion-label>
      <ion-input type="text" formControlName="Telefone"></ion-input>
      <ion-label *ngIf="contatoForm.get('Telefone').invalid && processValidation" [ngClass]="'error'"> Telefone é requerido. </ion-label>
    </ion-item>
    <ion-item>
      <ion-label>Img</ion-label>
      <ion-input type="text" formControlName="Img"></ion-input>
      <ion-label *ngIf="contatoForm.get('Img').invalid && processValidation" [ngClass]="'error'"> Imagem é requerida. </ion-label>
    </ion-item>
    <ion-item>
      <ion-label>Produtos</ion-label>
      <!-- <ion-select multiple="true" cancelText="Nah" okText="Okay!">
      <ion-option *ngFor="let prod of Produtos; let i = index" [value]="{Id: prod.Id, Nome: prod.Nome}" selected="false">
        {{prod.Nome}}
      </ion-option>
    </ion-select> -->
      <ion-select multiple="true" cancelText="Nah" okText="Okay!">
        <ion-option *ngFor="let prod of produtos; let i = index" [value]="prod.Id" selected="false">
          {{prod.Nome}}
        </ion-option>
      </ion-select>

      <!-- <ion-select multiple="true" cancelText="Nah" okText="Okay!">
        <ion-option *ngFor="let produto of Produtos; let i = index" [value]="produto" selected="false">
          {{produto.Nome}}
        </ion-option>
      </ion-select> -->


    </ion-item>

    <button ion-button *ngIf="!contatoIdToUpdate">CREATE</button>
    <button ion-button *ngIf="contatoIdToUpdate">UPDATE</button>
    <button ion-button (click)="dismiss()">Voltar</button>
    <!-- <br/>
    <div *ngIf="statusCode; else processing">
      <div *ngIf="statusCode === 201" [ngClass]="'success'">
        Contato adicionado com sucesso.
      </div>
      <div *ngIf="statusCode === 409" [ngClass]="'success'">
        Contato já existe.
      </div>
      <div *ngIf="statusCode === 200" [ngClass]="'success'">
        Contato atualizado com sucesso.
      </div>
      <div *ngIf="statusCode === 204" [ngClass]="'success'">
        Contato deletado com sucesso.
      </div>
      <div *ngIf="statusCode === 500" [ngClass]="'error'">
        Internal Server Error.
      </div>
    </div> -->
    <!-- <ng-template #processing>
      <img *ngIf="requestProcessing" src="../../assets/imgs/loading.gif ">
    </ng-template> -->
  </form>
</ion-content>